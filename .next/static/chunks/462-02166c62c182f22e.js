"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{9518:function(e,t,r){r.d(t,{Z:function(){return i}});var s=r(5893),n=r(9008),l=r.n(n),c={src:"/_next/static/media/logo(H)_symbol_text_tag(EN)_w.9d550bfd.svg",height:151,width:888},i=function(e){var t=e.title,r=e.description;return(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"description",content:r}),(0,s.jsx)("meta",{property:"og:title",content:t}),(0,s.jsx)("meta",{property:"og:description",content:r}),(0,s.jsx)("meta",{property:"og:image",content:c}),(0,s.jsx)("meta",{name:"keywords",content:"eba, \ube45\ub370\uc774\ud130 \uc5f0\uad6c, bigdata research, \ube45\ub370\uc774\ud130, bigdata, big data, education big data, \uad50\uc721 \ube45\ub370\uc774\ud130"}),(0,s.jsx)("meta",{charSet:"URF-8"}),(0,s.jsx)("meta",{name:"viewport",content:"user-scalable=no, width=device-width"})]})}},8488:function(e,t,r){r.d(t,{a:function(){return I},Z:function(){return M}});var s=r(5893),n=r(7294),l=r(1799),c=r(645),i=r(1446),a=r(1038),o=r(3045);function d(){var e=(0,n.useContext)(I),t=e.setIsEditing,r=e.isEditing,l=e.setSelectedNews;return(0,s.jsx)("button",{className:"absolute right-3 top-1/2 hidden -translate-y-1/2 border bg-gray-100 p-1 lg:flex",onClick:function(){t((function(e){return!e})),r&&l(null)},children:r?"\ucde8\uc18c":"\ucd94\uac00"})}function x(e){var t=e.data,r=e.docID,c=(0,n.useContext)(I),i=c.setIsEditing,a=c.setSelectedNews,o=c.setSelectedDocId;return(0,s.jsx)("button",{className:"border bg-white p-1",onClick:function(){i(!1),a((0,l.Z)({},t)),o(r),i(!0)},children:"\uc218\uc815"})}function u(e){var t=e.docID,r=(0,n.useContext)(I).deleteDocument;return(0,s.jsx)("button",{className:"border bg-white p-0.5",onClick:function(){return r(t)},children:"\uc0ad\uc81c"})}function m(){var e=(0,n.useContext)(I),t=e.setIsEditing,r=e.setSelectedNews;return(0,s.jsx)("button",{className:"border p-0.5",onClick:function(){t(!1),r(null)},children:"\ucde8\uc18c"})}function h(){var e=(0,n.useContext)(I),t=e.pageNumber,r=e.setPageNumber,l=e.newsList,d=Math.floor(Number(null===l||void 0===l?void 0:l.length)/10)+1,x=5*Math.floor(d/5)+1,u=5*Math.floor((Number(t)-1)/5)+1;return(0,s.jsx)("div",{className:" m-5 flex items-center justify-center p-10",children:(0,s.jsxs)("ul",{className:"inline-flex items-center -space-x-px ",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){r(1)},children:(0,s.jsx)(c.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){1==u?u=1:u-=5,r(u)},children:(0,s.jsx)(i.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(u)},children:t==u?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 px-2 py-1 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:u}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white px-2 py-1 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:u})})}),u+1<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(u+1)},children:t==u+1?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 px-2 py-1 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:u+1}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white px-2 py-1 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:u+1})})}),u+2<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(u+2)},children:t==u+2?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 px-2 py-1 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:u+2}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white px-2 py-1 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:u+2})})}),u+3<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(u+3)},children:t==u+3?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 px-2 py-1 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:u+3}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white px-2 py-1 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:u+3})})}),u+4<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(u+4)},children:t==u+4?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 px-2 py-1 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:u+4}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white px-2 py-1 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:u+4})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){u<x?u+=5:u=x,r(u)},children:(0,s.jsx)(a.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){u=x,r(d)},children:(0,s.jsx)(o.Z,{className:"h-3 w-3"})})})]})})}var b=r(3276);var R=function(){var e=(0,b.Z)().user;return(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"h-12 bg-PRIMARY_COLOR-500/40 text-sm uppercase leading-normal text-gray-600",children:[(0,s.jsx)("th",{className:"w-[5%] text-center",children:"NO"}),(0,s.jsx)("th",{className:"w-[45%] text-center",children:"\uc81c\ubaa9"}),(0,s.jsx)("th",{className:"w-[15%] text-center",children:"\uc791\uc131\uc790"}),(0,s.jsx)("th",{className:"w-[15%] pr-4 text-right",children:"\ub4f1\ub85d\uc77c"}),(0,s.jsxs)("th",{className:"relative w-[20%]",children:["\ucca8\ubd80\ud30c\uc77c",e&&(0,s.jsx)(d,{})]})]})})},f=r(3990),p=r(1664),O=r.n(p),j=r(381),g=r.n(j);var w=function(e){var t=e.news,r=e.newsList,l=(0,b.Z)().user,c=(0,n.useContext)(I).pageNumber,i=10*(Number(c)-1);return(0,s.jsx)("tbody",{className:"text-sm font-light text-gray-600",children:null===r||void 0===r?void 0:r.sort((function(e,t){return Number(t.data().createdAt)-Number(e.data().createdAt)})).slice(10*(Number(c)-1),10*(Number(c)-1)+10).map((function(e,r){var n=e.data();return i+=1,(0,s.jsxs)("tr",{className:"border-b border-gray-200 text-xs hover:bg-gray-100 sm:text-sm",children:[(0,s.jsx)("td",{className:"text-center",children:i}),(0,s.jsx)(O(),{href:{pathname:"/notice/".concat(t).concat(i),query:{title:n.title,type:n.news,writer:n.writer,createdAt:g()(n.createdAt.slice(0,8)).format("YYYY-MM-DD"),fileUrl:n.fileUrl,content:n.content}},children:(0,s.jsxs)("td",{className:"cursor-pointer text-center hover:scale-105",children:[" ",(0,s.jsx)("a",{className:"font-bold",children:n.title})]})}),(0,s.jsx)("td",{className:"text-center",children:n.writer}),(0,s.jsxs)("td",{className:"text-right",children:[n.createdAt.slice(0,4),"-",n.createdAt.slice(4,6),"-",n.createdAt.slice(6,8)]}),(0,s.jsxs)("td",{className:"relative flex items-center text-center",children:[(0,s.jsx)("div",{className:"flex h-12 w-full items-center justify-center",children:(0,s.jsx)("a",{className:"flex hover:underline hover:underline-offset-2",href:n.fileUrl,children:"empty"==n.fileUrl?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(f.woi,{className:"ml-2 cursor-pointer hover:scale-110",size:20})})}),l&&(0,s.jsxs)("div",{className:"w-15 absolute right-2 hidden text-sm lg:flex",children:[(0,s.jsx)(x,{data:n,docID:e.id}),(0,s.jsx)(u,{docID:e.id})]})]})]},e.id)}))})},N=r(7536),C=r(4500),v=r(1294),Y=r(4219),y=r(774),A=r(9335);var _=function(e){var t=e.news,r=function(e,r){var s=e.newsFile[0];if(s){var n=(0,y.iH)(Y.tO,"\uc13c\ud130 \uc18c\uc2dd"===t?"documents/centerNews/"+s.name:"documents/eventNews/"+s.name),l=(0,y.B0)(n,s);l.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% now"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Uploading")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":console.log(e)}}),(function(){(0,y.Jt)(l.snapshot.ref).then((function(r){w.mutate({title:e.title,writer:e.writer,createdAt:c.format("YYYYMMDDHHmmss"),content:e.content,fileUrl:r,news:t})}))}))}else w.mutate({title:e.title,writer:e.writer,createdAt:c.format("YYYYMMDDHHmmss"),content:e.content,fileUrl:"empty",news:t});x(!1)},c=g()(),i=(0,n.useContext)(I),a=i.selectedNews,o=i.collectionRef,d=i.selectedDocId,x=i.setIsEditing,u=(0,n.useState)(!1),h=u[0],b=u[1],R=(0,N.cI)({defaultValues:(0,n.useMemo)((function(){if(a)return a}),[a])}),p=R.register,O=R.reset,j=R.handleSubmit;R.formState.errors,(0,n.useEffect)((function(){a&&O(a)}),[a]);var w=(0,C.b)(o),_=(0,C.AG)((0,v.JU)((0,v.hJ)(Y.db,t),"".concat(d)),{merge:!0});return(0,s.jsxs)("form",{className:"relative w-full flex-col items-center justify-around border-b border-gray-200 bg-GRAY_COLOR-200 text-xs sm:text-sm ",onSubmit:j(a?function(e){h?r(e):_.mutate({title:e.title,writer:e.writer,content:e.content}),x(!1)}:function(e){r(e)}),children:[(0,s.jsxs)("div",{className:"flex h-10 items-center justify-around",children:[(0,s.jsx)("label",{className:"w-[45%] p-1",children:(0,s.jsx)("input",(0,l.Z)({className:" w-full border border-gray-700 text-center",placeholder:"\uc790\ub8cc\uba85"},p("title",{required:!0})))}),(0,s.jsx)("label",{className:"w-[15%] p-1",children:(0,s.jsx)("input",(0,l.Z)({className:"w-full border border-gray-700 text-center",placeholder:"\uc791\uc131\uc790"},p("writer",{required:!0})))}),a?(0,s.jsx)("label",{className:"w-[15%] text-right",children:"".concat(a.createdAt.slice(0,4),"-").concat(a.createdAt.slice(4,6),"-").concat(a.createdAt.slice(6,8))}):(0,s.jsx)("label",{className:"w-[15%] text-right",children:c.format("YYYY-MM-DD")}),a&&!h?(0,s.jsxs)("div",{className:"flex w-[20%] items-center",children:[(0,s.jsx)("label",{className:"items-left flex h-12 w-full justify-center self-center",children:"empty"==a.fileUrl?(0,s.jsx)("input",(0,l.Z)({className:"w-full self-center pl-5 text-xs",type:"file"},p("newsFile",{required:!1}))):(0,s.jsx)(A.IconButton,{className:"flex self-center text-black hover:underline hover:underline-offset-2",onClick:function(){return b(!0)},children:(0,s.jsx)(f.woi,{className:"ml-2",size:20})})}),(0,s.jsxs)("label",{className:"w-15 absolute right-2 z-50 hidden bg-gray-100 text-sm lg:flex",children:[(0,s.jsx)("input",{type:"submit",className:" border p-1"}),(0,s.jsx)(m,{})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("label",{className:"flex w-[20%] items-center text-right",children:[(0,s.jsx)("input",(0,l.Z)({className:"w-full pl-5 text-xs",type:"file"},p("newsFile",{required:!1}))),(0,s.jsx)("label",{className:"w-15 absolute right-2 hidden bg-gray-100 text-sm lg:flex",children:(0,s.jsx)("input",{type:"submit",className:" border p-1"})})]})})]}),(0,s.jsx)("label",{children:(0,s.jsx)("textarea",(0,l.Z)({placeholder:"\uac8c\uc2dc\uae00 \ubcf8\ubb38 \ub0b4\uc6a9\uc744 \uc791\uc131\ud574\uc8fc\uc138\uc694.",className:"w-full border-gray-700 pl-5 text-sm"},p("content",{required:!0})))})]})},L=r(7920),I=(0,n.createContext)({});var M=function(e){var t,r=e.news,l=(0,L.Z)(r,[r]),c=l.collectionRef,i=l.collectionQuery,a=l.deleteDocument,o=(0,n.useState)(!1),d=o[0],x=o[1],u=(0,n.useState)(null),m=u[0],b=u[1],f=(0,n.useState)(null),p=f[0],O=f[1],j=(0,n.useState)(null===(t=i.data)||void 0===t?void 0:t.docs),g=j[0],N=j[1];(0,n.useLayoutEffect)((function(){var e,t=null===(e=i.data)||void 0===e?void 0:e.docs.filter((function(e){return e.data().news=r}));N(t)}),[i.isSuccess]);var C=(0,n.useState)(1),v=C[0],Y=C[1],y={isEditing:d,setIsEditing:x,selectedNews:m,collectionRef:c,collectionQuery:i,selectedDocId:p,setSelectedNews:b,setSelectedDocId:O,deleteDocument:a,pageNumber:v,setPageNumber:Y,newsList:g};return(0,s.jsxs)(I.Provider,{value:y,children:[(0,s.jsxs)("table",{className:"w-full table-auto border-t border-t-black",children:[(0,s.jsx)(R,{}),(0,s.jsx)(w,{news:r,newsList:g})]}),d&&(0,s.jsx)(_,{news:r}),(0,s.jsx)(h,{})]})}},7920:function(e,t,r){r.d(t,{Z:function(){return i}});var s=r(9815),n=r(1294),l=r(4219),c=r(4500);function i(e,t){var r={toFirestore:function(e){return e},fromFirestore:function(e,t){return e.data(t)}},i=(0,n.hJ)(l.db,e).withConverter(r);return{converter:r,collectionRef:i,collectionQuery:(0,c.sQ)((0,s.Z)(t),i,{subscribe:!0}),deleteDocument:function(t){var r=(0,n.JU)(l.db,e,t);(0,n.oe)(r).then((function(){console.log("\ubb38\uc11c \uc0ad\uc81c!")})).catch((function(e){console.log(e)}))}}}}}]);