"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{9518:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5893),i=n(9008),s=n.n(i),a={src:"/_next/static/media/logo(H)_symbol_text_tag(EN)_w.9d550bfd.svg",height:151,width:888},c=function(e){var t=e.title,n=e.description;return(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("meta",{property:"og:title",content:t}),(0,r.jsx)("meta",{property:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:image",content:a}),(0,r.jsx)("meta",{name:"keywords",content:"eba, \ube45\ub370\uc774\ud130 \uc5f0\uad6c, bigdata research, \ube45\ub370\uc774\ud130, bigdata, big data, education big data, \uad50\uc721 \ube45\ub370\uc774\ud130"}),(0,r.jsx)("meta",{charSet:"URF-8"}),(0,r.jsx)("meta",{name:"viewport",content:"user-scalable=no, width=device-width"})]})}},7034:function(e,t,n){n.d(t,{K:function(){return y},Z:function(){return N}});var r=n(5893),i=n(7294),s=n(1799),a=n(9396),c=n(7536),o=n(4500),l=n(1294),d=n(4219);function u(){var e=(0,i.useContext)(y),t=e.setIsEditing,n=e.isEditing,s=e.setSelectedMember;return(0,r.jsx)("button",{className:"hidden lg:absolute lg:right-3 lg:top-1/2 lg:flex lg:-translate-y-1/2 lg:border lg:p-1",onClick:function(){t((function(e){return!e})),n&&s(null)},children:n?"\ucde8\uc18c":"\ucd94\uac00"})}function x(e){var t=e.data,n=e.docID,a=e.index,c=(0,i.useContext)(y),o=c.setIsEditing,l=c.setSelectedMember,d=c.setSelectedDocId,u=c.setSelectedIndex;return(0,r.jsx)("button",{className:"border p-1",onClick:function(){o(!1),l((0,s.Z)({},t)),d(n),o(!0),u(a)},children:"\uc218\uc815"})}function m(e){var t=e.docID,n=(0,i.useContext)(y).deleteDocument;return(0,r.jsx)("button",{onClick:function(){return n(t)},children:"\uc0ad\uc81c"})}function f(){var e=(0,i.useContext)(y),t=e.setIsEditing,n=e.setSelectedMember,s=e.setSelectedIndex;return(0,r.jsx)("button",{className:"border p-1",onClick:function(){t(!1),n(null),s(0)},children:"\ucde8\uc18c"})}var b=function(e){var t=e.organization,n=(0,i.useContext)(y),u=n.selectedMember,x=n.collectionRef,m=n.selectedDocId,b=n.selectedIndex,h=(0,c.cI)({defaultValues:(0,i.useMemo)((function(){if(u)return u}),[u])}),g=h.register,j=h.reset,p=h.handleSubmit;(0,i.useEffect)((function(){u&&j(u)}),[u]);var v=(0,o.b)(x),N=(0,o.AG)((0,l.JU)((0,l.hJ)(d.db,"externalMembers"),"".concat(m)),{merge:!0});return(0,r.jsxs)("form",{className:"relative flex w-full items-center justify-around border-b border-gray-200 bg-GRAY_COLOR-200 ",onSubmit:p(u?function(e){N.mutate({name:e.name,department:e.department,organization:t,email:e.email?e.email:null,division:(null===e||void 0===e?void 0:e.division)?e.division:null})}:function(e){v.mutate({name:e.name,department:e.department,organization:t,email:e.email?e.email:null,division:e.division?e.division:null})}),children:["\uc5f0\uad6c \uc790\ubb38\ub2e8"===t&&(0,r.jsx)("div",{className:"w-[10%] text-center",children:(0,r.jsxs)("select",(0,a.Z)((0,s.Z)({className:"mx-2 h-8 border border-gray-700 pl-3",placeholder:"\uad6c\ubd84"},g("division")),{children:[(0,r.jsx)("option",{value:"\ub300\ud559",children:"\ub300\ud559"}),(0,r.jsx)("option",{value:"\uc5f0\uad6c \uae30\uad00",children:"\uc5f0\uad6c \uae30\uad00"})]}))}),(0,r.jsx)("div",{className:"w-[5%] py-3 text-center",children:b}),(0,r.jsx)("label",{className:"w-[20%] text-center",children:(0,r.jsx)("input",(0,s.Z)({className:" mx-2 h-7 border border-gray-700 pl-3",placeholder:"\uc131\uba85"},g("name",{required:!0})))}),(0,r.jsx)("label",{className:"w-[30%] text-center",children:(0,r.jsx)("input",(0,s.Z)({className:" mx-2 w-60 border border-gray-700 pl-3",placeholder:"\uc18c\uc18d"},g("department",{required:!0})))}),(0,r.jsx)("label",{className:"w-[35%] items-center justify-center text-center",children:(0,r.jsx)("input",(0,s.Z)({className:" mx-2 h-7 w-44 border border-gray-700 pl-3",type:"email",placeholder:"\uc774\uba54\uc77c"},g("email")))}),(0,r.jsxs)("div",{className:"gapx-1 absolute right-0 flex text-xs desktop:right-2 desktop:gap-x-3 desktop:text-sm",children:[(0,r.jsx)("input",{type:"submit",className:" border p-1"}),(0,r.jsx)(f,{})]})]})},h=n(7920),g=n(3276);var j=function(e){var t=e.organization,n=(0,g.Z)().user;return(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-PRIMARY_COLOR-500/40 text-sm uppercase leading-normal text-gray-600",children:["\uc5f0\uad6c \uc790\ubb38\ub2e8"===t&&(0,r.jsx)("th",{className:"w-[10%] text-center",children:"\uad6c\ubd84"}),(0,r.jsx)("th",{className:"w-[5%] px-1 py-3 text-center xs:px-6",children:"NO"}),(0,r.jsx)("th",{className:"w-[20%] text-center",children:"\uc131\uba85"}),(0,r.jsx)("th",{className:"w-[33%] text-center xs:w-[30%]",children:"\uc18c\uc18d"}),(0,r.jsxs)("th",{className:"relative h-12 w-fit",children:["\uc774\uba54\uc77c",n&&(0,r.jsx)(u,{})]})]})})},p=n(3990);var v=function(e){var t=e.organization,n=e.memberList,i=(0,g.Z)().user;return(0,r.jsx)("tbody",{className:"text-sm font-light text-gray-600",children:null===n||void 0===n?void 0:n.sort((function(e,t){return e.data().division&&t.data().division?e.data().division>t.data().division?1:-1:e.data().name>t.data().name?1:-1})).map((function(e,n){var s=e.data();return(0,r.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-100",children:["\uc5f0\uad6c \uc790\ubb38\ub2e8"===t&&(0,r.jsx)("td",{className:"text-center",children:s.division}),(0,r.jsx)("td",{className:"py-3 text-center",children:n+1}),(0,r.jsx)("td",{className:"text-center",children:s.name}),(0,r.jsx)("td",{className:"text-center",children:s.department}),(0,r.jsxs)("td",{className:"relative flex justify-center text-center xs:flex xs:items-center",children:[(0,r.jsx)("div",{className:"flex h-12 w-fit items-center justify-center",children:(0,r.jsxs)("a",{className:"w-fit justify-center self-center hover:underline hover:underline-offset-2 xs:flex",href:"mailto:".concat(s.email),children:[(0,r.jsx)("div",{className:"hidden xs:flex",children:s.email}),(0,r.jsx)(p.w4O,{className:"mx-1 xs:mx-0 xs:ml-2",size:20})]})}),i&&(0,r.jsxs)("div",{className:"hidden lg:absolute lg:right-0 lg:flex lg:gap-x-2 lg:text-sm",children:[(0,r.jsx)(x,{index:n+1,data:s,docID:e.id}),(0,r.jsx)(m,{docID:e.id})]})]})]},e.id)}))})},y=(0,i.createContext)({});var N=function(e){var t,n=e.organization,s=(0,h.Z)("externalMembers",["externalMembers"]),a=s.collectionRef,c=s.collectionQuery,o=s.deleteDocument,l=(0,i.useState)(null),d=l[0],u=l[1],x=(0,i.useState)(null),m=x[0],f=x[1],g=(0,i.useState)(!1),p=g[0],N=g[1],w=(0,i.useState)(0),O=w[0],I=w[1],S=(0,i.useState)(null===(t=c.data)||void 0===t?void 0:t.docs),Z=S[0],D=S[1];(0,i.useLayoutEffect)((function(){var e,t=null===(e=c.data)||void 0===e?void 0:e.docs.filter((function(e){return e.data().organization===n}));D(t)}),[c.isSuccess]);var C={isEditing:p,setIsEditing:N,selectedMember:d,setSelectedMember:u,collectionQuery:c,collectionRef:a,deleteDocument:o,selectedDocId:m,setSelectedDocId:f,selectedIndex:O,setSelectedIndex:I};return c.isLoading?(0,r.jsx)(r.Fragment,{children:"\ub85c\ub529"}):(0,r.jsxs)(y.Provider,{value:C,children:[(0,r.jsxs)("table",{className:"w-full table-auto border-t border-t-black",children:[(0,r.jsx)(j,{organization:n}),(0,r.jsx)(v,{organization:n,memberList:Z})]}),p&&(0,r.jsx)(b,{organization:n})]})}},7920:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(9815),i=n(1294),s=n(4219),a=n(4500);function c(e,t){var n={toFirestore:function(e){return e},fromFirestore:function(e,t){return e.data(t)}},c=(0,i.hJ)(s.db,e).withConverter(n);return{converter:n,collectionRef:c,collectionQuery:(0,a.sQ)((0,r.Z)(t),c,{subscribe:!0}),deleteDocument:function(t){var n=(0,i.JU)(s.db,e,t);(0,i.oe)(n).then((function(){console.log("\ubb38\uc11c \uc0ad\uc81c!")})).catch((function(e){console.log(e)}))}}}},9396:function(e,t,n){function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return r}})},9815:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(943);var i=n(3375);var s=n(1566);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,s.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);