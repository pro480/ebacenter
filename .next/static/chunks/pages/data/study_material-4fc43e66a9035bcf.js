(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{9234:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data/study_material",function(){return r(9217)}])},9217:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(5893),n=r(7294),l=r(1799),a=r(645),c=r(1446),i=r(1038),o=r(3045);function d(){var e=(0,n.useContext)(M),t=e.setIsEditing,r=e.isEditing,l=e.setSelectedMaterial;return(0,s.jsx)("button",{className:"absolute right-3 top-1/2 hidden -translate-y-1/2 border bg-gray-100 p-1 lg:flex",onClick:function(){t((function(e){return!e})),r&&l(null)},children:r?"\ucde8\uc18c":"\ucd94\uac00"})}function x(e){var t=e.data,r=e.docID,a=(0,n.useContext)(M),c=a.setIsEditing,i=a.setSelectedMaterial,o=a.setSelectedDocId;return(0,s.jsx)("button",{className:"border bg-white p-1",onClick:function(){c(!1),i((0,l.Z)({},t)),o(r),c(!0)},children:"\uc218\uc815"})}function m(e){var t=e.docID,r=(0,n.useContext)(M).deleteDocument;return(0,s.jsx)("button",{className:"border bg-white p-0.5",onClick:function(){confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&r(t)},children:"\uc0ad\uc81c"})}function u(){var e=(0,n.useContext)(M),t=e.setIsEditing,r=e.setSelectedMaterial,l=e.setSelectedIndex;return(0,s.jsx)("button",{className:"border p-0.5",onClick:function(){t(!1),r(null),l(0)},children:"\ucde8\uc18c"})}function h(){var e=(0,n.useContext)(M),t=e.pageNumber,r=e.setPageNumber,l=e.materialList,d=Math.floor(Number(null===l||void 0===l?void 0:l.length)/10)+1,x=5*Math.floor(d/5)+1,m=5*Math.floor((Number(t)-1)/5)+1;return(0,s.jsx)("div",{className:" m-5 flex items-center justify-center pt-4",children:(0,s.jsxs)("ul",{className:"inline-flex items-center -space-x-px ",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){r(1)},children:(0,s.jsx)(a.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){1==m?m=1:m-=5,r(m)},children:(0,s.jsx)(c.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(m)},children:t==m?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 py-1 px-2 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:m}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-1 px-2 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:m})})}),m+1<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(m+1)},children:t==m+1?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 py-1 px-2 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:m+1}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-1 px-2 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:m+1})})}),m+2<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(m+2)},children:t==m+2?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 py-1 px-2 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:m+2}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-1 px-2 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:m+2})})}),m+3<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(m+3)},children:t==m+3?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 py-1 px-2 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:m+3}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-1 px-2 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:m+3})})}),m+4<=d&&(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:function(){r(m+4)},children:t==m+4?(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-GRAY_COLOR-500 py-1 px-2 text-sm text-PRIMARY_COLOR-500 md:py-2 md:px-3",children:m+4}):(0,s.jsx)("span",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-1 px-2 text-sm text-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 md:py-2 md:px-3",children:m+4})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){m<x?m+=5:m=x,r(m)},children:(0,s.jsx)(i.Z,{className:"h-3 w-3"})})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"m-1 border border-PRIMARY_COLOR-500 bg-white py-2 px-2 text-sm text-PRIMARY_COLOR-500 hover:border-PRIMARY_COLOR-500 hover:bg-GRAY_COLOR-500 hover:text-PRIMARY_COLOR-500 md:py-3",onClick:function(){m=x,r(d)},children:(0,s.jsx)(o.Z,{className:"h-3 w-3"})})})]})})}var b=r(3276);var R=function(e){e.material;var t=(0,b.Z)().user;return(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-PRIMARY_COLOR-500/40 h-12 text-sm uppercase leading-normal text-gray-600",children:[(0,s.jsx)("th",{className:"w-[5%] text-center",children:"NO"}),(0,s.jsx)("th",{className:"w-[45%] text-center",children:"\uc81c\ubaa9"}),(0,s.jsx)("th",{className:"w-[15%] text-center",children:"\uc791\uc131\uc790"}),(0,s.jsx)("th",{className:"w-[15%] text-right pr-4",children:"\ub4f1\ub85d\uc77c"}),(0,s.jsxs)("th",{className:"relative w-[20%]",children:["\ucca8\ubd80\ud30c\uc77c",t&&(0,s.jsx)(d,{})]})]})})},f=r(3990),p=r(1664),j=r.n(p),O=r(381),g=r.n(O);var N=function(e){var t=e.material,r=e.materialList,l=(0,b.Z)().user,a=(0,n.useContext)(M).pageNumber,c=10*(Number(a)-1);return(0,s.jsx)("tbody",{className:"text-sm font-light text-gray-600",children:null===r||void 0===r?void 0:r.sort((function(e,t){return Number(t.data().createdAt)-Number(e.data().createdAt)})).slice(10*(Number(a)-1),10*(Number(a)-1)+10).map((function(e){var r=e.data(),n=r.createdAt.slice(0,4),a=r.createdAt.slice(4,6),i=r.createdAt.slice(6,8);return c+=1,(0,s.jsxs)("tr",{className:"border-b border-gray-200 text-xs hover:bg-gray-100 sm:text-sm",children:[(0,s.jsx)("td",{className:"text-center",children:c}),"\uc791\uc131\ud560 \ub0b4\uc6a9\uc774 \uc788\ub2e4\uba74 \uc791\uc131\ud574\uc8fc\uc138\uc694. \uc5c6\ub2e4\uba74 \ubc14\ub85c \uc81c\ucd9c\ud574\uc8fc\uc138\uc694."==r.content?(0,s.jsx)("td",{className:"text-center",children:r.title}):(0,s.jsx)(j(),{href:{pathname:"/notice/".concat(t).concat(c),query:{title:r.title,type:r.material,writer:r.writer,createdAt:g()(r.createdAt.slice(0,8)).format("YYYY-MM-DD"),fileUrl:r.fileUrl,content:r.content}},as:"/notice/".concat(t).concat(c),children:(0,s.jsx)("td",{className:"cursor-pointer text-center hover:scale-105",children:(0,s.jsx)("a",{className:"font-bold",children:r.title})})}),(0,s.jsx)("td",{className:"text-center",children:r.writer}),(0,s.jsx)("td",{className:"text-right",children:"".concat(n,"-").concat(a,"-").concat(i)}),(0,s.jsxs)("td",{className:"relative flex items-center text-center",children:[(0,s.jsx)("div",{className:"flex h-12 w-full items-center justify-center",children:(0,s.jsx)("a",{className:"flex hover:underline hover:underline-offset-2",href:r.fileUrl,children:"empty"==r.fileUrl?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(f.woi,{className:"ml-2 cursor-pointer hover:scale-110",size:20})})}),l&&(0,s.jsxs)("div",{className:"w-15 absolute right-2 hidden text-sm lg:flex",children:[(0,s.jsx)(x,{data:r,docID:e.id}),(0,s.jsx)(m,{docID:e.id})]})]})]},e.id)}))})},v=r(7536),C=r(4500),_=r(1294),Y=r(4219),w=r(774),y=r(9335);var A=function(e){var t=e.material,r=function(e,r){var s=e.materialFile[0];if(s){var n=(0,w.iH)(Y.tO,"\ud559\uc2b5 \uc790\ub8cc"===t?"documents/studyMaterials/"+s.name:"documents/paperMaterials/"+s.name),l=(0,w.B0)(n,s);l.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% now"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Uploading")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":console.log(e)}}),(function(){(0,w.Jt)(l.snapshot.ref).then((function(r){A.mutate({title:e.title,writer:e.writer,createdAt:a.format("YYYYMMDDHHmmss"),fileUrl:r,content:e.content,material:t})}))}))}else A.mutate({title:e.title,writer:e.writer,createdAt:a.format("YYYYMMDDHHmmss"),content:e.content,fileUrl:"empty",material:t});m(!1)},a=g()(),c=(0,n.useContext)(M),i=c.selectedMaterial,o=c.collectionRef,d=c.selectedDocId,x=c.selectedIndex,m=c.setIsEditing,h=(0,n.useState)(!1),b=h[0],R=h[1],p=(0,v.cI)({defaultValues:(0,n.useMemo)((function(){if(i)return i}),[i])}),j=p.register,O=p.reset,N=p.handleSubmit;p.formState.errors,(0,n.useEffect)((function(){i&&O(i)}),[i]);var A=(0,C.b)(o),L=(0,C.AG)((0,_.JU)((0,_.hJ)(Y.db,t),"".concat(d)),{merge:!0});return(0,s.jsxs)("form",{className:"relative w-full flex-col items-center justify-around border-b border-gray-200 bg-GRAY_COLOR-200 text-xs sm:text-sm ",onSubmit:N(i?function(e){b?r(e):L.mutate({title:e.title,writer:e.writer,contetn:e.content}),m(!1)}:function(e){r(e)}),children:[(0,s.jsxs)("div",{className:"flex h-10 items-center justify-around",children:[(0,s.jsx)("div",{className:"w-[5%] text-center",children:x+1}),(0,s.jsx)("label",{className:"w-[45%] p-1",children:(0,s.jsx)("input",(0,l.Z)({className:" w-full border border-gray-700 text-center",placeholder:"\uc790\ub8cc\uba85"},j("title",{required:!0})))}),(0,s.jsx)("label",{className:"w-[15%] p-1",children:(0,s.jsx)("input",(0,l.Z)({className:"w-full border border-gray-700 text-center",placeholder:"\uc791\uc131\uc790"},j("writer",{required:!0})))}),i?(0,s.jsx)("label",{className:"w-[15%] text-right",children:"".concat(i.createdAt.slice(0,4),"-").concat(i.createdAt.slice(4,6),"-").concat(i.createdAt.slice(6,8))}):(0,s.jsx)("label",{className:"w-[15%] text-right",children:a.format("YYYY-MM-DD")}),i&&!b?(0,s.jsxs)("div",{className:"flex w-[20%] items-center",children:[(0,s.jsx)("label",{className:"items-left flex h-12 w-full justify-center self-center",children:"empty"==i.fileUrl?(0,s.jsx)("input",(0,l.Z)({className:"w-full self-center pl-5 text-xs",type:"file"},j("materialFile",{required:!1}))):(0,s.jsx)(y.IconButton,{className:"flex self-center text-black hover:underline hover:underline-offset-2",onClick:function(){return R(!0)},children:(0,s.jsx)(f.woi,{className:"ml-2",size:20})})}),(0,s.jsxs)("label",{className:"w-15 absolute right-2 z-50 hidden bg-gray-100 text-sm lg:flex",children:[(0,s.jsx)("input",{type:"submit",className:" border p-1"}),(0,s.jsx)(u,{})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("label",{className:"flex w-[20%] items-center text-right",children:[(0,s.jsx)("input",(0,l.Z)({className:"w-full pl-5 text-xs",type:"file"},j("materialFile",{required:!1}))),(0,s.jsx)("label",{className:"w-15 absolute right-2 hidden bg-gray-100 text-sm lg:flex",children:(0,s.jsx)("input",{type:"submit",className:" border p-1"})})]})})]}),(0,s.jsx)("label",{children:(0,s.jsx)("textarea",(0,l.Z)({defaultValue:"\uc791\uc131\ud560 \ub0b4\uc6a9\uc774 \uc788\ub2e4\uba74 \uc791\uc131\ud574\uc8fc\uc138\uc694. \uc5c6\ub2e4\uba74 \ubc14\ub85c \uc81c\ucd9c\ud574\uc8fc\uc138\uc694.",className:"w-full border-gray-700 pl-5 text-sm"},j("content",{required:!0})))})]})},L=r(7920),M=(0,n.createContext)({});var I=function(e){var t,r=e.material,l=(0,L.Z)(r,[r]),a=l.collectionRef,c=l.collectionQuery,i=l.deleteDocument,o=(0,n.useState)(!1),d=o[0],x=o[1],m=(0,n.useState)(null),u=m[0],b=m[1],f=(0,n.useState)(null),p=f[0],j=f[1],O=(0,n.useState)(0),g=O[0],v=O[1],C=(0,n.useState)(null===(t=c.data)||void 0===t?void 0:t.docs),_=C[0],Y=C[1];(0,n.useLayoutEffect)((function(){var e,t=null===(e=c.data)||void 0===e?void 0:e.docs.filter((function(e){return e.data().material===r}));Y(t)}),[c.isSuccess]);var w=(0,n.useState)(1),y=w[0],I=w[1],P={isEditing:d,setIsEditing:x,selectedMaterial:u,collectionRef:a,collectionQuery:c,selectedDocId:p,setSelectedMaterial:b,setSelectedDocId:j,deleteDocument:i,selectedIndex:g,setSelectedIndex:v,materialList:_,pageNumber:y,setPageNumber:I};return(0,s.jsxs)(M.Provider,{value:P,children:[(0,s.jsxs)("h1",{className:"pb-5 pt-4 text-sm md:text-base",children:["\uc804\uccb4"," ",(0,s.jsx)("span",{className:"ml-3 text-lg font-bold text-PRIMARY_COLOR-500 md:text-2xl",children:null===_||void 0===_?void 0:_.length})," ","\uac74"]}),(0,s.jsxs)("table",{className:"w-full table-auto border-t border-t-black",children:[(0,s.jsx)(R,{material:r}),(0,s.jsx)(N,{material:r,materialList:_})]}),d&&(0,s.jsx)(A,{material:r}),(0,s.jsx)(h,{})]})},P=r(9518);var k=function(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(P.Z,{title:"EBA | \ud559\uc2b5 \uc790\ub8cc",description:"EBA\uc13c\ud130 \ud559\uc2b5 \uc790\ub8cc\uc2e4\uc785\ub2c8\ub2e4"}),(0,s.jsx)(I,{material:"\ud559\uc2b5 \uc790\ub8cc"})]})}},9518:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(5893),n=r(9008),l=r.n(n),a={src:"/_next/static/media/logo(H)_symbol_text_tag(EN)_w.9d550bfd.svg",height:151,width:888},c=function(e){var t=e.title,r=e.description;return(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"description",content:r}),(0,s.jsx)("meta",{property:"og:title",content:t}),(0,s.jsx)("meta",{property:"og:description",content:r}),(0,s.jsx)("meta",{property:"og:image",content:a}),(0,s.jsx)("meta",{name:"keywords",content:"eba, \ube45\ub370\uc774\ud130 \uc5f0\uad6c, bigdata research, \ube45\ub370\uc774\ud130, bigdata, big data, education big data, \uad50\uc721 \ube45\ub370\uc774\ud130"}),(0,s.jsx)("meta",{charSet:"URF-8"}),(0,s.jsx)("meta",{name:"viewport",content:"user-scalable=no, width=device-width"})]})}},7920:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(9815),n=r(1294),l=r(4219),a=r(4500);function c(e,t){var r={toFirestore:function(e){return e},fromFirestore:function(e,t){return e.data(t)}},c=(0,n.hJ)(l.db,e).withConverter(r);return{converter:r,collectionRef:c,collectionQuery:(0,a.sQ)((0,s.Z)(t),c,{subscribe:!0}),deleteDocument:function(t){var r=(0,n.JU)(l.db,e,t);(0,n.oe)(r).then((function(){console.log("\ubb38\uc11c \uc0ad\uc81c!")})).catch((function(e){console.log(e)}))}}}}},function(e){e.O(0,[885,434,715,536,933,774,888,179],(function(){return t=9234,e(e.s=t);var t}));var t=e.O();_N_E=t}]);