(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{8063:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/research/business",function(){return r(7744)}])},7744:function(e,t,r){"use strict";r.r(t),r.d(t,{ProjectContext:function(){return y},default:function(){return w}});var n=r(5893),s=r(7294),o=r(1799),c=r(381),l=r.n(c),a=r(3276),i=r(7536),d=r(774),u=r(4219),f=r(4500),x=r(1294),m=r(5675),p=r.n(m);var h=function(e){var t=e.project,r=e.docID,c=(0,a.Z)().user,m=(0,s.useContext)(y).deleteDocument,h=(0,s.useState)(!1),b=h[0],v=h[1],j=(0,i.cI)(),g=j.register,N=j.handleSubmit;(0,s.useEffect)((function(){}),[b]);var w=(0,f.AG)((0,x.JU)((0,x.hJ)(u.db,"projects"),"".concat(r)),{merge:!0});return(0,n.jsxs)("div",{className:"relative flex h-32 cursor-pointer items-center border-b border-PRIMARY_COLOR-500 py-4 pr-8 first:border-t hover:bg-gray-200 sm:h-40 sm:py-6 md:h-44 xl:h-48 xl:py-7 desktop:h-52 desktop:py-8",children:[(0,n.jsxs)("div",{className:"flex h-full w-32 flex-col items-center justify-center gap-y-1",children:[(0,n.jsx)("div",{className:"text-xl font-bold",children:l()(t.startedAt).format("YYYY.MM")}),(0,n.jsx)("span",{className:"text-3sxl rotate-90",children:"~"}),(0,n.jsx)("div",{className:"text-xl font-bold",children:l()(t.endedAt).format("YYYY.MM")})]}),t.imageUrl&&(0,n.jsx)("div",{className:"relative h-32 w-32 self-center",children:(0,n.jsx)(p(),{src:t.imageUrl,layout:"fill",objectFit:"contain",objectPosition:"center"})}),(0,n.jsxs)("div",{className:"flex h-full flex-1 flex-col gap-y-1 desktop:gap-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center text-xs sm:text-base xl:text-lg",children:[(0,n.jsx)("span",{className:"flex items-center text-PRIMARY_COLOR-500",children:"\ubc1c\uc8fc \uae30\uad00"}),(0,n.jsx)("div",{className:"mx-2 h-3 border-r-2 border-PRIMARY_COLOR-500"}),t.consignment.map((function(e,t){return(0,n.jsxs)("div",{className:"flex items-center",children:[t>0&&(0,n.jsx)("span",{children:",\xa0"}),e]},t)}))]}),(0,n.jsx)("div",{className:"text-base sm:text-xl desktop:text-2xl",children:t.title_KO}),(0,n.jsx)("div",{className:"overflow-hidden text-sm",children:t.description})]}),c&&(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsx)("button",{className:"h-8 w-12 rounded-sm border hover:bg-PRIMARY_COLOR-200",onClick:function(){return m(r)},children:"\uc0ad\uc81c"}),(0,n.jsx)("button",{className:"h-8 w-12 rounded-sm border hover:bg-PRIMARY_COLOR-200",onClick:function(){return v(!0)},children:"\uc644\ub8cc"})]}),b&&(0,n.jsxs)("form",{className:"absolute right-32 z-50 flex flex flex-col items-center justify-center gap-y-4 bg-gray-300 py-5",onSubmit:N((function(e){var t;if(e.imageFile&&(null===(t=e.imageFile)||void 0===t?void 0:t.length)>0){var r=e.imageFile[0],n=(0,d.iH)(u.tO,"images/projects/"+r.name),s=(0,d.B0)(n,r);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){switch(e.code){case"storage/unauthorized":case"storage/canceled":case"storage/unknown":console.log(e)}}),(function(){(0,d.Jt)(s.snapshot.ref).then((function(e){w.mutate({imageUrl:e,completed:!0}),v(!1)}))}))}else w.mutate({completed:!0})})),children:[(0,n.jsxs)("label",{children:["\uc774\ubbf8\uc9c0",(0,n.jsx)("input",(0,o.Z)({type:"file"},g("imageFile")))]}),(0,n.jsx)("input",{type:"submit"})]})]})},b=r(7920),v=r(1163),j=r(9815);var g=function(){var e=(0,s.useState)([""]),t=e[0],r=e[1],c=(0,s.useState)(!1),l=(c[0],c[1],(0,s.useContext)(y)),a=l.selectedProject,d=l.collectionRef,m=l.selectedDocId;l.setModalOpen,(0,s.useEffect)((function(){if(a){var e=(0,j.Z)(a.consignment);r(e),v(a)}}),[a]);var p=(0,i.cI)({defaultValues:(0,s.useMemo)((function(){if(a)return a}),[a])}),h=p.register,b=p.handleSubmit,v=p.reset,g=(p.formState.errors,(0,f.b)(d));return(0,f.AG)((0,x.JU)((0,x.hJ)(u.db,"projects"),"".concat(m)),{merge:!0}),(0,n.jsxs)("form",{onSubmit:b((function(e){g.mutate({title_KO:e.title_KO,description:e.description,consignment:e.consignment.slice(0,t.length),startedAt:e.startedAt,endedAt:e.endedAt,completed:!1})})),className:"min-h-44 relative flex w-full flex-col flex-wrap gap-y-2 bg-gray-300 p-4",children:[(0,n.jsxs)("label",{className:"flex flex-col",children:["\ud504\ub85c\uc81d\ud2b8 \uc81c\ubaa9",(0,n.jsx)("input",(0,o.Z)({},h("title_KO",{required:!0})))]}),(0,n.jsxs)("label",{className:"flex flex-col",children:["\ud504\ub85c\uc81d\ud2b8 \uc124\uba85",(0,n.jsx)("textarea",(0,o.Z)({className:"h-32 w-full"},h("description",{required:!0})))]}),(0,n.jsxs)("label",{className:"flex flex-col",children:["\uc2dc\uc791\uc77c",(0,n.jsx)("input",(0,o.Z)({type:"date"},h("startedAt")))]}),(0,n.jsxs)("label",{className:"flex flex-col",children:["\uc885\ub8cc\uc77c",(0,n.jsx)("input",(0,o.Z)({type:"date"},h("endedAt")))]}),(0,n.jsxs)("label",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex gap-x-4",children:["\ubc1c\uc8fc \uae30\uad00 (\ucd5c\ub300 8\uac1c)",(0,n.jsx)("button",{className:"flex w-fit border bg-PRIMARY_COLOR-50 px-2",onClick:function(e){e.preventDefault(),function(){if(t.length<8){var e=(0,j.Z)(t);e.push(""),r(e)}}()},children:"\ubc1c\uc8fc \uae30\uad00 \ucd94\uac00"}),(0,n.jsx)("button",{className:"flex w-fit border bg-PRIMARY_COLOR-50 px-2",onClick:function(e){e.preventDefault(),function(){if(t.length>1){var e=(0,j.Z)(t);e.pop(),r(e)}}()},children:"\ubc1c\uc8fc \uae30\uad00 \uc0ad\uc81c"})]}),(0,n.jsx)("div",{className:"w-full",children:t.map((function(e,t){return(0,n.jsx)("input",(0,o.Z)({className:"m-1 h-7 w-[20%] border border-gray-700 pl-3",type:"history",placeholder:"\ubc1c\uc8fc \uae30\uad00"},h("consignment.".concat(t),{required:!0})),t)}))})]}),(0,n.jsx)("input",{className:"mr-10 w-fit cursor-pointer self-center border bg-PRIMARY_COLOR-50 px-6 py-1",type:"submit",value:"\ucd94\uac00"})]})},N=r(9518),y=(0,s.createContext)({});var w=function(){var e,t,r=(0,s.useState)(!1),o=r[0],c=r[1],i=(0,s.useState)(null),d=i[0],u=i[1],f=(0,s.useState)(null),x=f[0],m=f[1],p=(0,a.Z)().user,j=(0,b.Z)("projects",["projects"]),w=j.collectionRef,R=j.collectionQuery,Y=j.deleteDocument,_=(0,v.useRouter)(),O=_.query.completed||"false",A={modalOpen:o,setModalOpen:c,selectedProject:d,setSelectedProject:u,selectedDocId:x,setSelectedDocId:m,collectionQuery:R,collectionRef:w,deleteDocument:Y};return(0,n.jsx)(y.Provider,{value:A,children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(N.Z,{title:"EBA | \uc5f0\uad6c \ubc0f \uc0ac\uc5c5",description:"EBA\uc13c\ud130 \uc5f0\uad6c \ubc0f \uc0ac\uc5c5"}),(0,n.jsxs)("div",{className:"flex pb-10 text-sm md:text-base",children:[(0,n.jsx)("div",{className:"w-32 cursor-pointer border px-4 py-3 text-center hover:border-t-2 hover:border-b-0 hover:border-t-black ",onClick:function(e){_.replace({query:{completed:!1}})},children:"\uc9c4\ud589 \uc911"}),(0,n.jsx)("div",{className:"w-32 cursor-pointer border px-4 py-3 text-center hover:border-t-2 hover:border-b-0 hover:border-t-black",onClick:function(e){_.replace({query:{completed:!0}})},children:"\uc644\ub8cc"}),(0,n.jsx)("span",{className:"w-full border-b"})]}),p&&(0,n.jsx)("button",{className:"w-16 border bg-PRIMARY_COLOR-100 text-white",onClick:function(){return c((function(e){return!e}))},children:o?"\ucde8\uc18c":"\ucd94\uac00"}),(0,n.jsx)("div",{className:"flex flex-col",children:"false"===O?null===(e=R.data)||void 0===e?void 0:e.docs.sort((function(e,t){return Number(l()(e.data().startedAt).format("YYYYMMDD"))-Number(l()(t.data().startedAt).format("YYYYMMDD"))})).map((function(e){var t=e.data();if(!t.completed)return(0,n.jsx)(h,{docID:e.id,project:t},e.id)})):null===(t=R.data)||void 0===t?void 0:t.docs.sort((function(e,t){return Number(l()(e.data().startedAt).format("YYYYMMDD"))-Number(l()(t.data().startedAt).format("YYYYMMDD"))})).map((function(e){var t=e.data();if(t.completed)return(0,n.jsx)(h,{docID:e.id,project:t},e.id)}))}),o&&(0,n.jsx)(g,{})]})})}},9518:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893),s=r(9008),o=r.n(s),c={src:"/_next/static/media/logo(H)_symbol_text_tag(EN)_w.9d550bfd.svg",height:151,width:888},l=function(e){var t=e.title,r=e.description;return(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{name:"description",content:r}),(0,n.jsx)("meta",{property:"og:title",content:t}),(0,n.jsx)("meta",{property:"og:description",content:r}),(0,n.jsx)("meta",{property:"og:image",content:c}),(0,n.jsx)("meta",{name:"keywords",content:"eba, \ube45\ub370\uc774\ud130 \uc5f0\uad6c, bigdata research, \ube45\ub370\uc774\ud130, bigdata, big data, education big data, \uad50\uc721 \ube45\ub370\uc774\ud130"}),(0,n.jsx)("meta",{charSet:"URF-8"}),(0,n.jsx)("meta",{name:"viewport",content:"user-scalable=no, width=device-width"})]})}},7920:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(9815),s=r(1294),o=r(4219),c=r(4500);function l(e,t){var r={toFirestore:function(e){return e},fromFirestore:function(e,t){return e.data(t)}},l=(0,s.hJ)(o.db,e).withConverter(r);return{converter:r,collectionRef:l,collectionQuery:(0,c.sQ)((0,n.Z)(t),l,{subscribe:!0}),deleteDocument:function(t){var r=(0,s.JU)(o.db,e,t);(0,s.oe)(r).then((function(){console.log("\ubb38\uc11c \uc0ad\uc81c!")})).catch((function(e){console.log(e)}))}}}},9815:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(943);var s=r(3375);var o=r(1566);function c(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,s.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[885,715,536,774,888,179],(function(){return t=8063,e(e.s=t);var t}));var t=e.O();_N_E=t}]);